<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>I Love You</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500&family=Dancing+Script:wght@600&display=swap" rel="stylesheet">
</head>

<body>
  <div class="center">
    <div>
      <p> Will you be my Valentine? </p>

      <div class="buttons">
        <button class="btnNo">No </button>
        <button class="btnYes">Yes </button>
      </div>
  </div>
</div>
<div id="videoContainer" >
</div>
  <script>
    let count = 0;
    const noBtn = document.querySelector(".btnNo");

noBtn.addEventListener("mouseover", function () {
    increment();
  const btnWidth = noBtn.offsetWidth;
  const btnHeight = noBtn.offsetHeight;

  const maxX = window.innerWidth - btnWidth;
  const maxY = window.innerHeight - btnHeight;

  const moveX = (Math.random() - 0.5) * maxX;
  const moveY = (Math.random() - 0.5) * maxY;

  noBtn.style.transform = `translate(${moveX}px, ${moveY}px)`;
});

function increment() {
  count++;
  console.log("Count is: " + count);

  if (count === 3) {
    // 1. Turn the background red
    document.body.classList.add("treason");

    // 2. Show the container
    const videoBox = document.getElementById("videoContainer");
    videoBox.classList.add("show-video");

    // 3. Create the iframe ONLY if it doesn't exist yet
    if (videoBox.innerHTML === "") {
      const iframe = document.createElement("iframe");
      
      // We MUST use &mute=1 and &autoplay=1 together
      const videoID = "R3oSAVwcD4U"; 
      iframe.src = `https://www.youtube.com/embed/${videoID}?autoplay=1&mute=1&enablejsapi=1`;
      
      iframe.width = "560";
      iframe.height = "315";
      iframe.frameBorder = "0";
      iframe.allow = "autoplay; encrypted-media";
      iframe.allowFullscreen = true;

      videoBox.appendChild(iframe);
    }
  }
}
  </script>

</body>
</html>
