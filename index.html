<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>I Love You</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500&family=Dancing+Script:wght@600&display=swap" rel="stylesheet">
</head>

<body>
  <div class="center">
    <div>
      <p> Will you be my Valentine? </p>

      <div class="buttons">
        <button class="btnNo">No </button>
        <button onclick="document.location='message.html'" class="btnYes">Yes </button>
      </div>
  </div>
</div>
<div id="videoContainer"></div>
</div>
  <script>
    let count = 0;
const noBtn = document.querySelector(".btnNo");

noBtn.addEventListener("mouseover", function () {
  // Only move the button if count is less than 3
  if (count < 3) {
    count++;
    
     const btnWidth = noBtn.offsetWidth;
    const btnHeight = noBtn.offsetHeight;

    const maxX = window.innerWidth - btnWidth;
    const maxY = window.innerHeight - btnHeight;

    const moveX = (Math.random() - 0.5) * maxX;
    const moveY = (Math.random() - 0.5) * maxY;

    noBtn.style.transform = `translate(${moveX}px, ${moveY}px)`;
  }
});

// The "Final Trap" Click
noBtn.addEventListener("click", function () {
  if (count >= 3) {
    triggerTreason();
  }
});

function triggerTreason() {
  // 1. Theme Change
  document.body.classList.add("treason");

  // 2. Show Container
  const videoBox = document.getElementById("videoContainer");
  videoBox.classList.add("show-video");

  // 3. Inject Video with SOUND (mute=0)
  // Since they clicked the button, the browser allows sound!
  const videoID = "R3oSAVwcD4U";
  videoBox.innerHTML = `
    <iframe 
      width="560" height="315" 
      src="https://www.youtube.com/embed/${videoID}?autoplay=1&mute=0" 
      frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>
    </iframe>`;
}
  </script>

</body>
</html>
